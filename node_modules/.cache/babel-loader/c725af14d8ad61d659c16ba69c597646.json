{"ast":null,"code":"var _jsxFileName = \"/Users/sd/Documents/GitHub/virtualmarket/landing/src/components/AvatarGenerator.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport WalletProvider from '../contexts/WalletProvider';\nimport User from '../libs/user';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AvatarGenerator = props => {\n  _s();\n\n  let avatarUrl;\n  const {\n    wallet\n  } = useContext(WalletProvider.context);\n\n  const receiveMessage = event => {\n    if (typeof event.data === 'string') {\n      console.log('************* avatar generated');\n      console.log(event.data);\n      avatarUrl = event.data;\n      User.save({\n        email: props.email,\n        walletAddress: wallet.address,\n        avatarUrl\n      });\n    }\n  }; // fetch(`/api/user/${wallet.address}`, {\n  //   method: 'POST',\n  //   headers: { 'content-type': 'application/json' },\n  //   credentials: 'include',\n  //   mode: 'cors',\n  //   body: JSON.stringify({ avatarLink, googleId: user.googleId })\n  // });\n\n\n  window.addEventListener('message', receiveMessage, false);\n  useEffect(() => {\n    const generatorDiv = document.querySelector('.RPMClass');\n    if (!generatorDiv) return;\n    let iframe = document.getElementById('iframe');\n\n    if (iframe) {\n      iframe.id = 'iframe';\n      iframe.src = 'https://lumierevr.readyplayer.me/';\n      iframe.className = 'RPMClass';\n      iframe.allow = 'camera *; microphone *'; // iframe.contents();\n    } else {\n      iframe = document.createElement('iframe');\n      iframe.id = 'iframe';\n      iframe.src = 'https://lumierevr.readyplayer.me/';\n      iframe.className = 'RPMClass';\n      iframe.allow = 'camera *; microphone *';\n      document.querySelector('.RPMClass').appendChild(iframe);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: props.show,\n    size: \"lg\",\n    onHide: () => props.close(),\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \"Avatar Generator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profilePage\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"page-title\",\n          style: {\n            textAlign: 'center'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"RPMClass\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        onClick: () => props.close(),\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AvatarGenerator, \"uM3BazytHy08Fnt8M4iwBQODAmQ=\");\n\n_c = AvatarGenerator;\nexport default AvatarGenerator;\n\nvar _c;\n\n$RefreshReg$(_c, \"AvatarGenerator\");","map":{"version":3,"sources":["/Users/sd/Documents/GitHub/virtualmarket/landing/src/components/AvatarGenerator.jsx"],"names":["React","useContext","useEffect","useState","Button","Modal","WalletProvider","User","AvatarGenerator","props","avatarUrl","wallet","context","receiveMessage","event","data","console","log","save","email","walletAddress","address","window","addEventListener","generatorDiv","document","querySelector","iframe","getElementById","id","src","className","allow","createElement","appendChild","show","close","textAlign"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,OAAOC,IAAP,MAAiB,cAAjB;;;AAEA,MAAMC,eAAe,GAAIC,KAAD,IAAW;AAAA;;AACjC,MAAIC,SAAJ;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAaV,UAAU,CAACK,cAAc,CAACM,OAAhB,CAA7B;;AAEA,QAAMC,cAAc,GAAIC,KAAD,IAAW;AAChC,QAAI,OAAOA,KAAK,CAACC,IAAb,KAAsB,QAA1B,EAAoC;AAClCC,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACC,IAAlB;AACAL,MAAAA,SAAS,GAAGI,KAAK,CAACC,IAAlB;AACAR,MAAAA,IAAI,CAACW,IAAL,CAAU;AACRC,QAAAA,KAAK,EAAEV,KAAK,CAACU,KADL;AAERC,QAAAA,aAAa,EAAET,MAAM,CAACU,OAFd;AAGRX,QAAAA;AAHQ,OAAV;AAKD;AACF,GAXD,CAJiC,CAiBjC;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAY,EAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmCV,cAAnC,EAAmD,KAAnD;AAEAX,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMsB,YAAY,GAAGC,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAArB;AACA,QAAI,CAACF,YAAL,EAAmB;AAEnB,QAAIG,MAAM,GAAGF,QAAQ,CAACG,cAAT,CAAwB,QAAxB,CAAb;;AACA,QAAID,MAAJ,EAAY;AACVA,MAAAA,MAAM,CAACE,EAAP,GAAY,QAAZ;AACAF,MAAAA,MAAM,CAACG,GAAP,GAAa,mCAAb;AACAH,MAAAA,MAAM,CAACI,SAAP,GAAmB,UAAnB;AACAJ,MAAAA,MAAM,CAACK,KAAP,GAAe,wBAAf,CAJU,CAKV;AACD,KAND,MAMO;AACLL,MAAAA,MAAM,GAAGF,QAAQ,CAACQ,aAAT,CAAuB,QAAvB,CAAT;AACAN,MAAAA,MAAM,CAACE,EAAP,GAAY,QAAZ;AACAF,MAAAA,MAAM,CAACG,GAAP,GAAa,mCAAb;AACAH,MAAAA,MAAM,CAACI,SAAP,GAAmB,UAAnB;AACAJ,MAAAA,MAAM,CAACK,KAAP,GAAe,wBAAf;AACAP,MAAAA,QAAQ,CAACC,aAAT,CAAuB,WAAvB,EAAoCQ,WAApC,CAAgDP,MAAhD;AACD;AACF,GAnBQ,CAAT;AAqBA,sBACE,QAAC,KAAD;AAAO,IAAA,IAAI,EAAElB,KAAK,CAAC0B,IAAnB;AAAyB,IAAA,IAAI,EAAC,IAA9B;AAAmC,IAAA,MAAM,EAAE,MAAM1B,KAAK,CAAC2B,KAAN,EAAjD;AAAA,4BACE,QAAC,KAAD,CAAO,MAAP;AAAc,MAAA,WAAW,MAAzB;AAAA,6BACE,QAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAKE,QAAC,KAAD,CAAO,IAAP;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,gCACE;AAAG,UAAA,SAAS,EAAC,YAAb;AAA0B,UAAA,KAAK,EAAE;AAAEC,YAAAA,SAAS,EAAE;AAAb;AAAjC;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAK,UAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YALF,eAcE,QAAC,KAAD,CAAO,MAAP;AAAA,6BACE,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,WAAhB;AAA4B,QAAA,OAAO,EAAE,MAAM5B,KAAK,CAAC2B,KAAN,EAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAdF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAqBD,CArED;;GAAM5B,e;;KAAAA,e;AAuEN,eAAeA,eAAf","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport WalletProvider from '../contexts/WalletProvider';\nimport User from '../libs/user';\n\nconst AvatarGenerator = (props) => {\n  let avatarUrl;\n  const { wallet } = useContext(WalletProvider.context);\n\n  const receiveMessage = (event) => {\n    if (typeof event.data === 'string') {\n      console.log('************* avatar generated');\n      console.log(event.data);\n      avatarUrl = event.data;\n      User.save({\n        email: props.email,\n        walletAddress: wallet.address,\n        avatarUrl\n      });\n    }\n  };\n\n  // fetch(`/api/user/${wallet.address}`, {\n  //   method: 'POST',\n  //   headers: { 'content-type': 'application/json' },\n  //   credentials: 'include',\n  //   mode: 'cors',\n  //   body: JSON.stringify({ avatarLink, googleId: user.googleId })\n  // });\n\n  window.addEventListener('message', receiveMessage, false);\n\n  useEffect(() => {\n    const generatorDiv = document.querySelector('.RPMClass');\n    if (!generatorDiv) return;\n\n    let iframe = document.getElementById('iframe');\n    if (iframe) {\n      iframe.id = 'iframe';\n      iframe.src = 'https://lumierevr.readyplayer.me/';\n      iframe.className = 'RPMClass';\n      iframe.allow = 'camera *; microphone *';\n      // iframe.contents();\n    } else {\n      iframe = document.createElement('iframe');\n      iframe.id = 'iframe';\n      iframe.src = 'https://lumierevr.readyplayer.me/';\n      iframe.className = 'RPMClass';\n      iframe.allow = 'camera *; microphone *';\n      document.querySelector('.RPMClass').appendChild(iframe);\n    }\n  });\n\n  return (\n    <Modal show={props.show} size=\"lg\" onHide={() => props.close()}>\n      <Modal.Header closeButton>\n        <Modal.Title>Avatar Generator</Modal.Title>\n      </Modal.Header>\n\n      <Modal.Body>\n        <div className=\"profilePage\">\n          <p className=\"page-title\" style={{ textAlign: 'center' }}>\n            {/* Your Avatar Goes Here */}\n          </p>\n          <div className=\"RPMClass\" />\n        </div>\n      </Modal.Body>\n\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={() => props.close()}>Close</Button>\n        {/* <Button variant=\"primary\">Save changes</Button> */}\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default AvatarGenerator;\n"]},"metadata":{},"sourceType":"module"}